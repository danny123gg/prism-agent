# 如何贡献

感谢你对 Prism Agent 项目的关注！

这是一个学习笔记性质的开源教程项目，旨在通过渐进式的方式帮助开发者理解 Claude Agent SDK 的工作原理。我们欢迎任何形式的贡献。

---

## 📝 贡献类型

### 1. 报告问题

如果你发现了问题，欢迎在 GitHub Issues 中报告：

**Bug 报告**：
- 清晰描述问题现象
- 提供复现步骤
- 注明你的环境信息（操作系统、Python 版本、Claude Code CLI 版本）
- 如果可能，附上相关的错误日志

**文档改进**：
- 指出文档中的错误或不清楚的地方
- 建议补充缺失的说明

**功能建议**：
- 描述你希望添加的功能或改进
- 说明使用场景和价值

### 2. 改进文档

文档改进是最容易上手的贡献方式：

- 修正拼写或语法错误
- 改进措辞，让表达更清晰
- 补充缺失的说明或示例
- 翻译文档（如果你愿意）

**相关目录**：
- `README.md` - 项目介绍和快速开始
- `docs/` - 各阶段的详细文档
- `CLAUDE.md` - 项目工作指南
- `ACKNOWLEDGMENTS.md` - 致谢

### 3. 改进代码

**代码改进方向**：
- 修复 Bug
- 改进代码可读性（这是教学项目，可读性优先）
- 添加注释，帮助理解复杂逻辑
- 补充测试用例

**不推荐的改进**：
- 过度优化性能（教学项目，可读性优先于性能）
- 添加复杂的抽象层（保持示例代码简单直接）

### 4. 添加示例

如果你用 Claude Agent SDK 做了有趣的实践，可以：

- 在 `examples/` 目录添加新的示例代码
- 在 `docs/` 目录添加对应的说明文档
- 确保示例代码有清晰的注释

---

## 🔧 开发环境设置

### 1. Fork 和 Clone

```bash
# Fork 本仓库到你的 GitHub 账号

# Clone 你的 Fork
git clone https://github.com/你的用户名/prism-agent.git
cd prism-agent
```

### 2. 安装依赖

```bash
# Python 依赖
pip install -r requirements.txt

# 前端依赖（如果需要修改 Web 应用）
cd web/frontend
npm install
cd ../..
```

### 3. 配置环境

```bash
# 复制环境变量模板
cp .env.example .env

# 编辑 .env，填入你的 ANTHROPIC_API_KEY
```

### 4. 验证环境

```bash
# 运行验证脚本
python scripts/verify_setup.py

# 运行测试（确保没有破坏现有功能）
pytest
```

---

## 📋 代码规范

### Python 代码

- **遵循 PEP 8**：使用 `black` 格式化代码
- **类型注解**：关键函数添加类型注解
- **文档字符串**：公开函数添加 docstring
- **注释原则**：
  - 解释"为什么"，而不是"做什么"
  - 对于教学性代码，可以适当多加注释帮助理解

**示例**：
```python
async def create_agent(config: AgentConfig) -> ClaudeSDKClient:
    """
    创建一个配置好的 Agent 实例。

    Args:
        config: Agent 配置对象

    Returns:
        配置好的 ClaudeSDKClient 实例

    Note:
        这个函数演示了如何使用配置对象封装 Agent 的创建过程。
        在实际应用中，你可以根据需要扩展 AgentConfig。
    """
    # 实现代码...
```

### JavaScript/TypeScript 代码（前端）

- **遵循项目现有风格**
- **使用 ESLint 和 Prettier**
- **组件注释**：React 组件添加说明注释

### 文档

- **Markdown 格式**：遵循 CommonMark 规范
- **标题层级**：合理使用 H1-H6
- **代码块**：指定语言，方便语法高亮
- **链接**：使用相对路径引用项目内文件

---

## 🚀 提交流程

### 1. 创建分支

```bash
# 从 main 创建新分支
git checkout -b feature/你的功能名称

# 或者修复 Bug
git checkout -b fix/问题描述
```

### 2. 进行修改

- 保持每次提交的改动聚焦（一个提交只做一件事）
- 写清晰的提交信息（中文或英文均可）

**提交信息格式**：
```bash
# 功能添加
git commit -m "添加：v8 示例 - 展示 XXX 功能"

# Bug 修复
git commit -m "修复：v3 示例中 Hook 未正确触发的问题"

# 文档改进
git commit -m "文档：完善 v5 多 Agent 协作的说明"

# 代码优化
git commit -m "重构：简化 v4 封装模式的示例代码"
```

### 3. 运行测试

```bash
# 确保测试通过
pytest

# 检查代码格式
black --check .
```

### 4. 推送并创建 PR

```bash
# 推送到你的 Fork
git push origin feature/你的功能名称

# 在 GitHub 上创建 Pull Request
```

**PR 描述应包含**：
- 改动的目的和背景
- 主要修改内容
- 测试方法（如果适用）
- 截图或示例输出（如果有视觉变化）

---

## ✅ 审查标准

我们会从以下角度审查 PR：

1. **功能正确性**：代码是否正确实现了预期功能
2. **代码可读性**：是否易于理解（教学项目的首要标准）
3. **文档完整性**：是否更新了相关文档
4. **测试覆盖**：是否添加了必要的测试
5. **风格一致性**：是否符合项目代码规范

**审查反馈**：
- 我们会尽快回复（通常 2-3 天内）
- 如果需要修改，请不要 force push，方便查看改动历史
- 讨论时保持友善和尊重

---

## 💡 提问

如果你有任何疑问：

- **技术问题**：在 GitHub Issues 中提问
- **贡献疑问**：在相关 PR 或 Issue 中讨论
- **其他问题**：查看 README 中的联系方式

---

## 🎯 项目理念

在贡献之前，建议阅读 README 中的"为什么是这个顺序"部分，了解项目的设计理念：

- **渐进式学习**：从简单到复杂，每次只增加一个概念
- **可读性优先**：代码以教学为目的，清晰 > 简洁
- **实战导向**：示例来自真实场景，而非为了演示而演示

理解这些理念，可以帮助你的贡献更好地融入项目。

---

再次感谢你的贡献！每一个改进都让这个项目变得更好。
